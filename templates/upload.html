<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>CropDoc</title>
     <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #6366f1;
            --primary-dark: #4f46e5;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --background: #ffffff;
            --surface: #f8fafc;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --error: #ef4444;
            --success: #10b981;
            --glow: 0 0 30px rgba(99, 102, 241, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: #0f172a;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Enhanced Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6366f1 100%);
            animation: backgroundShift 20s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            100% { background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6366f1 100%); } 
        }

        /* Enhanced Floating Particles */
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        .particle:nth-child(odd) {
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.2) 100%);
            animation: floatUp 20s infinite linear;
        }

        .particle:nth-child(even) {
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(99,102,241,0.6) 0%, rgba(99,102,241,0.1) 100%);
            animation: floatDiagonal 25s infinite linear;
        }

        .particle:nth-child(1) { left: 5%; animation-delay: 0s; }
        .particle:nth-child(2) { left: 15%; animation-delay: 3s; }
        .particle:nth-child(3) { left: 25%; animation-delay: 6s; }
        .particle:nth-child(4) { left: 35%; animation-delay: 9s; }
        .particle:nth-child(5) { left: 45%; animation-delay: 12s; }
        .particle:nth-child(6) { left: 55%; animation-delay: 15s; }
        .particle:nth-child(7) { left: 65%; animation-delay: 18s; }
        .particle:nth-child(8) { left: 75%; animation-delay: 21s; }
        .particle:nth-child(9) { left: 85%; animation-delay: 24s; }
        .particle:nth-child(10) { left: 95%; animation-delay: 27s; }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0) rotate(0deg); opacity: 0; }
            10% { transform: translateY(90vh) scale(1) rotate(45deg); opacity: 1; }
            90% { transform: translateY(-10vh) scale(1) rotate(315deg); opacity: 1; }
            100% { transform: translateY(-20vh) scale(0) rotate(360deg); opacity: 0; }
        }

        @keyframes floatDiagonal {
            0% { transform: translate(0, 100vh) scale(0) rotate(0deg); opacity: 0; }
            10% { transform: translate(20px, 90vh) scale(1.2) rotate(60deg); opacity: 0.8; }
            50% { transform: translate(-30px, 50vh) scale(0.8) rotate(180deg); opacity: 1; }
            90% { transform: translate(40px, -10vh) scale(1) rotate(300deg); opacity: 0.6; }
            100% { transform: translate(0, -20vh) scale(0) rotate(360deg); opacity: 0; }
        }

        /* Geometric Shapes Background */
        .geometric-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: rotateFloat 30s infinite linear;
        }

        .shape:nth-child(1) {
            top: 10%;
            left: 10%;
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            top: 60%;
            right: 15%;
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #10b981, #06d6a0);
            border-radius: 50%;
            animation-delay: 10s;
        }

        .shape:nth-child(3) {
            bottom: 20%;
            left: 20%;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #f59e0b, #f97316);
            transform: rotate(45deg);
            animation-delay: 20s;
        }

        @keyframes rotateFloat {
            0% { transform: rotate(0deg) translateY(0px); }
            25% { transform: rotate(90deg) translateY(-20px); }
            50% { transform: rotate(180deg) translateY(0px); }
            75% { transform: rotate(270deg) translateY(-20px); }
            100% { transform: rotate(360deg) translateY(0px); }
        }

        /* Enhanced Header */
        header {
            padding: 60px 0;
            text-align: center;
            color: white;
            position: relative;
            z-index: 1;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            opacity: 0;
            animation: logoReveal 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes logoReveal {
            0% {
                opacity: 0;
                transform: scale(0.5) rotate(-180deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .logo i {
            font-size: 3.5rem;
            color: var(--secondary-color);
            filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.5));
            animation: leafPulse 3s ease-in-out infinite;
        }

        @keyframes leafPulse {
            0%, 100% { transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.5)); }
            50% { transform: scale(1.1) rotate(5deg); filter: drop-shadow(0 0 30px rgba(16, 185, 129, 0.8)); }
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            opacity: 0;
            animation: titleSlide 1s ease-out 0.3s forwards;
            background: linear-gradient(135deg, #ffffff, #e0e7ff, #c7d2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            position: relative;
        }

        @keyframes titleSlide {
            0% {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .subtitle {
            font-size: 1.3rem;
            font-weight: 300;
            opacity: 0;
            animation: subtitleFade 1s ease-out 0.6s forwards;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        @keyframes subtitleFade {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced Main Content */
        main {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 40px 40px 0 0;
            margin-top: 40px;
            padding: 80px 0;
            position: relative;
            z-index: 1;
            min-height: 70vh;
            box-shadow: 0 -10px 50px rgba(0,0,0,0.1);
        }

        .main-glow {
            position: absolute;
            top: -2px;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            border-radius: 40px 40px 0 0;
            filter: blur(8px);
        }

        .upload-section {
            opacity: 0;
            transform: translateY(50px);
            animation: sectionReveal 1s ease-out 0.8s forwards;
        }

        @keyframes sectionReveal {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .upload-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            padding: 60px;
            border-radius: 30px;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .upload-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 2s ease-in-out;
        }

        .upload-container:hover::before {
            left: 100%;
        }

        .upload-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            border-radius: 30px 30px 0 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 50px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            opacity: 0;
            animation: titleReveal 0.8s ease-out 1s forwards;
        }

        @keyframes titleReveal {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .section-title i {
            color: var(--secondary-color);
            animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(5deg); }
        }

        /* Enhanced Progress Steps */
        .progress-steps {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 50px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(16, 185, 129, 0.1));
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
        }

        .progress-line {
            position: absolute;
            top: 50%;
            left: 25%;
            right: 25%;
            height: 3px;
            background: linear-gradient(90deg, var(--border), var(--primary-color));
            border-radius: 2px;
            z-index: 0;
            transition: all 0.5s ease;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            font-weight: 600;
            color: var(--text-secondary);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 1;
            min-width: 120px;
            cursor: pointer;
        }

        .step:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .step.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
        }

        .step.active i {
            animation: stepPulse 1.5s ease-in-out infinite;
        }

        @keyframes stepPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .step i {
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .step-number {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Enhanced Form Styles */
        .upload-form {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            opacity: 0;
            transform: translateX(-30px);
            animation: formSlideIn 0.6s ease-out forwards;
        }

        .form-group:nth-child(1) { animation-delay: 1.2s; }
        .form-group:nth-child(2) { animation-delay: 1.4s; }

        @keyframes formSlideIn {
            0% {
                opacity: 0;
                transform: translateX(-30px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        label {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
        }

        label i {
            color: var(--secondary-color);
            font-size: 1.3rem;
            transition: all 0.3s ease;
        }

        .form-group:hover label i {
            transform: scale(1.2) rotate(5deg);
            color: var(--primary-color);
        }

        select {
            padding: 20px 25px;
            border: 2px solid var(--border);
            border-radius: 15px;
            font-size: 1.1rem;
            font-family: inherit;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 
                0 0 0 4px rgba(99, 102, 241, 0.15),
                0 8px 25px rgba(99, 102, 241, 0.1);
            transform: translateY(-2px);
        }

        select:hover {
            border-color: var(--primary-color);
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        /* Enhanced File Upload */
        .file-upload-container {
            position: relative;
            border: 3px dashed var(--border);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(10px);
            cursor: pointer;
            overflow: hidden;
        }

        .file-upload-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(99, 102, 241, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .file-upload-container:hover::before,
        .file-upload-container.drag-over::before {
            opacity: 1;
        }

        .file-upload-container:hover,
        .file-upload-container.drag-over {
            border-color: var(--primary-color);
            background: rgba(99, 102, 241, 0.05);
            transform: scale(1.02);
            box-shadow: 
                0 20px 40px rgba(99, 102, 241, 0.15),
                0 0 0 1px rgba(99, 102, 241, 0.2);
        }

        .file-upload-container.has-file {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.05);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.15);
        }

        #file {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: block;
        }

        .file-upload-container:hover .upload-icon,
        .file-upload-container.drag-over .upload-icon {
            color: var(--primary-color);
            transform: scale(1.2) rotate(10deg);
            filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.3));
        }

        .file-upload-container.has-file .upload-icon {
            color: var(--success);
            transform: scale(1.1);
            filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.4));
        }

        .upload-text {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .upload-subtext {
            font-size: 1rem;
            color: var(--text-secondary);
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .file-upload-container:hover .upload-text,
        .file-upload-container.drag-over .upload-text {
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        .file-info {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px 25px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 12px;
            color: var(--success);
            font-weight: 600;
            backdrop-filter: blur(10px);
            animation: fileInfoSlide 0.5s ease-out;
        }

        @keyframes fileInfoSlide {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .file-info.show {
            display: flex;
        }

        .file-info i {
            font-size: 1.2rem;
            animation: checkBounce 0.6s ease-out;
        }

        @keyframes checkBounce {
            0% { transform: scale(0) rotate(-180deg); }
            80% { transform: scale(1.2) rotate(0deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        /* Enhanced Image Preview */
        .image-preview {
            max-width: 250px;
            max-height: 250px;
            border-radius: 15px;
            margin: 30px auto 0;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            display: none;
            transition: all 0.4s ease;
            border: 3px solid rgba(255, 255, 255, 0.8);
        }

        .image-preview.show {
            display: block;
            animation: imageReveal 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes imageReveal {
            0% {
                opacity: 0;
                transform: scale(0.8) rotate(-5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .image-preview:hover {
            transform: scale(1.05) rotate(1deg);
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }

        /* Enhanced Submit Button */
        .submit-btn {
            background: linear-gradient(135deg, var(--secondary-color), #059669, var(--primary-color));
            color: white;
            border: none;
            padding: 22px 50px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            box-shadow: 
                0 15px 35px rgba(16, 185, 129, 0.3),
                0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            background-size: 200% 200%;
            animation: gradientShift 3s ease infinite;
            opacity: 0;
            transform: translateY(30px);
            animation: buttonReveal 0.6s ease-out 1.6s forwards, gradientShift 3s ease infinite;
            margin: 0 auto;
        }

        @keyframes buttonReveal {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 25px 50px rgba(16, 185, 129, 0.4),
                0 15px 35px rgba(99, 102, 241, 0.3);
        }

        .submit-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .submit-btn:disabled {
            background: linear-gradient(135deg, var(--text-secondary), #9ca3af);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            animation: none;
        }

        /* Enhanced Loading Animation */
        .loading {
            display: none;
            align-items: center;
            gap: 15px;
        }

        .loading.show {
            display: flex;
        }

        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: advancedSpin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
        }

        @keyframes advancedSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* Enhanced Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 50px;
            padding-top: 40px;
            border-top: 1px solid rgba(229, 231, 235, 0.5);
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 30px;
            border-radius: 30px;
            border: 2px solid transparent;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .nav-link:hover::before {
            left: 100%;
        }

        .nav-link:hover {
            color: var(--primary-color);
            background: rgba(99, 102, 241, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 30px rgba(99, 102, 241, 0.2);
        }

        .nav-link i {
            transition: all 0.3s ease;
        }

        .nav-link:hover i {
            transform: scale(1.2) rotate(10deg);
        }

        /* Enhanced Footer */
        footer {
            background: linear-gradient(135deg, var(--text-primary), #374151);
            color: white;
            padding: 50px 0;
            text-align: center;
            margin-top: auto;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        }

        footer p {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 500;
        }

        /* Enhanced Error States */
        .error {
            color: var(--error);
            font-size: 1rem;
            font-weight: 600;
            margin-top: 10px;
            display: none;
            padding: 10px 15px;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--error);
        }

        .error.show {
            display: block;
            animation: errorSlide 0.4s ease-out;
        }

        @keyframes errorSlide {
            0% {
                opacity: 0;
                transform: translateX(-20px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-group.has-error select,
        .form-group.has-error .file-upload-container {
            border-color: var(--error);
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
            animation: errorShake 0.5s ease-in-out;
        }

        @keyframes errorShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Success States */
        .success-message {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            padding: 15px 20px;
            border-radius: 12px;
            border-left: 4px solid var(--success);
            margin-top: 20px;
            font-weight: 600;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: successSlide 0.5s ease-out;
        }

        @keyframes successSlide {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .upload-container { padding: 40px 25px; }
            h1 { font-size: 2.5rem; }
            .section-title { font-size: 2rem; }
            .navigation { 
                flex-direction: column; 
                gap: 20px; 
                align-items: stretch;
            }
            .nav-link {
                justify-content: center;
            }
            .progress-steps { 
                flex-direction: column; 
                gap: 15px; 
            }
            .step {
                min-width: auto;
                width: 100%;
                flex-direction: row;
                justify-content: center;
            }
            .file-upload-container {
                padding: 40px 20px;
            }
            .upload-icon {
                font-size: 3rem;
            }
            .submit-btn {
                padding: 20px 40px;
                font-size: 1.1rem;
            }
        }

        @media (max-width: 480px) {
            h1 { font-size: 2rem; }
            .section-title { font-size: 1.8rem; }
            .upload-container { padding: 30px 20px; }
            .file-upload-container { padding: 30px 15px; }
            .submit-btn { padding: 18px 35px; }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary-color));
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus styles for better accessibility */
        .submit-btn:focus-visible,
        select:focus-visible,
        .nav-link:focus-visible {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
 
 <div class="animated-bg">
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
        <div class="geometric-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>CropDoc</h1>
            </div>
            <p class="subtitle">A Vision Transformer Enhanced Web Interface for Scalable Crop Disease Detection</p>
        </div>
    </header>

    <main>
        <div class="main-glow"></div>
        <div class="container">
            <section class="upload-section">
                <div class="upload-container">
                    <h2 class="section-title">
                        <i class="fas fa-microscope"></i>
                        Analyze Crop Disease
                    </h2>

                    <div class="progress-steps">
                        <div class="progress-line"></div>
                        <div class="step active">
                            <i class="fas fa-upload"></i>
                            <span>Upload</span>
                            <span class="step-number">Step 1</span>
                        </div>
                        <div class="step">
                            <i class="fas fa-cog"></i>
                            <span>Analyze</span>
                            <span class="step-number">Step 2</span>
                        </div>
                        <div class="step">
                            <i class="fas fa-chart-line"></i>
                            <span>Results</span>
                            <span class="step-number">Step 3</span>
                        </div>
                    </div>

                    <form id="uploadForm" action="{{ url_for('predict') }}" method="POST" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="crop">
                                <i class="fas fa-seedling"></i>
                                Select Crop Type
                            </label>
                            <select id="crop" name="crop" required>
                                <option value="">Choose your crop...</option>
                                <option value="Tomato">🍅 Tomato</option>
                                <option value="Cauliflower">🥬 Cauliflower</option>
                                <option value="Pepper_bell">🌶️ Bell Pepper</option>
                                <option value="Corn">🌽 Corn (Maize)</option>
                                <option value="Wheat">🌾 Wheat</option>
                                <option value="Rice">🌾 Rice</option>
                                <option value="Jute">🌿 Jute</option>
                                <option value="Potato">🥔 Potato</option> 
                            </select>
                            <span class="error" id="cropError">Please select a crop type to continue</span>
                        </div>

                        <div class="form-group">
                            <label for="file">
                                <i class="fas fa-camera"></i>
                                Upload Leaf Image
                            </label>
                            <div class="file-upload-container" id="fileUploadContainer">
                                <input type="file" id="file" name="file" accept=".jpg,.jpeg,.png,.webp" required>
                                <div class="upload-content">
                                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                    <div class="upload-text">Drag & drop your image here</div>
                                    <div class="upload-subtext">or click to browse • JPG, PNG, WebP • Max 10MB</div>
                                </div>
                                <div class="file-info" id="fileInfo">
                                    <i class="fas fa-check-circle"></i>
                                    <span id="fileName">File ready for analysis</span>
                                </div>
                                <img class="image-preview" id="imagePreview" src="" alt="Preview">
                            </div>
                            <span class="error" id="fileError">Please select a valid image file</span>
                        </div>

                        <button type="submit" class="submit-btn" id="submitBtn">
                            <span class="submit-text">
                                <i class="fas fa-microscope"></i>
                                Start AI Analysis
                            </span>
                            <span class="loading" id="loadingSpinner">
                                <div class="spinner"></div>
                                Analyzing with AI...
                            </span>
                        </button>

                        <div class="success-message" id="successMessage">
                            <i class="fas fa-check-circle"></i>
                            Image uploaded successfully! Analysis in progress...
                        </div>
                    </form>

                    <div class="navigation">
                        <a href="{{ url_for('index') }}" class="nav-link">
                            <i class="fas fa-arrow-left"></i>
                            Back to Home
                        </a>
                        <a href="#" class="nav-link" id="helpLink">
                            <i class="fas fa-question-circle"></i>
                            Get Help
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 CropDoc. Revolutionizing Agriculture with AI • Powered by Advanced Machine Learning</p>
        </div>
    </footer>

    <script>
        // Enhanced form elements
        const form = document.getElementById('uploadForm');
        const cropSelect = document.getElementById('crop');
        const fileInput = document.getElementById('file');
        const fileUploadContainer = document.getElementById('fileUploadContainer');
        const fileInfo = document.getElementById('fileInfo');
        const fileName = document.getElementById('fileName');
        const imagePreview = document.getElementById('imagePreview');
        const submitBtn = document.getElementById('submitBtn');
        const submitText = document.querySelector('.submit-text');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const successMessage = document.getElementById('successMessage');
        const progressSteps = document.querySelectorAll('.step');

        // Enhanced file upload handling with better UX
        fileUploadContainer.addEventListener('click', () => {
            fileInput.click();
            // Add click animation
            fileUploadContainer.style.transform = 'scale(0.98)';
            setTimeout(() => {
                fileUploadContainer.style.transform = '';
            }, 150);
        });

        // Enhanced drag and drop with visual feedback
        let dragCounter = 0;

        fileUploadContainer.addEventListener('dragenter', (e) => {
            e.preventDefault();
            dragCounter++;
            fileUploadContainer.classList.add('drag-over');
        });

        fileUploadContainer.addEventListener('dragleave', (e) => {
            e.preventDefault();
            dragCounter--;
            if (dragCounter === 0) {
                fileUploadContainer.classList.remove('drag-over');
            }
        });

        fileUploadContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
        });

        fileUploadContainer.addEventListener('drop', (e) => {
            e.preventDefault();
            dragCounter = 0;
            fileUploadContainer.classList.remove('drag-over');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });

        // Enhanced file handling with better validation and feedback
        function handleFileSelect(file) {
            // Validate file type
            const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];
            if (!validTypes.includes(file.type)) {
                showError('fileError', 'Please select a valid image file (JPG, PNG, WebP)');
                return;
            }

            // Validate file size (10MB max)
            if (file.size > 10 * 1024 * 1024) {
                showError('fileError', 'File size must be less than 10MB');
                return;
            }

            // Enhanced UI updates with animations
            fileUploadContainer.classList.add('has-file');
            fileName.textContent = `${file.name} (${formatFileSize(file.size)})`;
            fileInfo.classList.add('show');
            hideError('fileError');

            // Show success message briefly
            successMessage.classList.add('show');
            setTimeout(() => {
                successMessage.classList.remove('show');
            }, 3000);

            // Enhanced image preview with loading state
            const reader = new FileReader();
            reader.onload = (e) => {
                imagePreview.src = e.target.result;
                imagePreview.classList.add('show');
                
                // Add a subtle animation to the preview
                setTimeout(() => {
                    imagePreview.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        imagePreview.style.transform = '';
                    }, 200);
                }, 100);
            };
            reader.readAsDataURL(file);
        }

        // Helper function to format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Enhanced form validation with better user feedback
        function validateForm() {
            let isValid = true;

            // Validate crop selection
            if (!cropSelect.value) {
                showError('cropError', 'Please select a crop type to continue');
                isValid = false;
                // Add shake animation to crop select
                cropSelect.style.animation = 'errorShake 0.5s ease-in-out';
                setTimeout(() => {
                    cropSelect.style.animation = '';
                }, 500);
            } else {
                hideError('cropError');
            }

            // Validate file selection
            if (!fileInput.files.length) {
                showError('fileError', 'Please select an image file for analysis');
                isValid = false;
                // Add shake animation to file upload container
                fileUploadContainer.style.animation = 'errorShake 0.5s ease-in-out';
                setTimeout(() => {
                    fileUploadContainer.style.animation = '';
                }, 500);
            } else {
                hideError('fileError');
            }

            return isValid;
        }

        // Enhanced error display with better animations
        function showError(errorId, message) {
            const errorElement = document.getElementById(errorId);
            const formGroup = errorElement.closest('.form-group');
            
            errorElement.textContent = message;
            errorElement.classList.add('show');
            formGroup.classList.add('has-error');

            // Auto-hide error after 5 seconds
            setTimeout(() => {
                if (errorElement.classList.contains('show')) {
                    hideError(errorId);
                }
            }, 5000);
        }

        function hideError(errorId) {
            const errorElement = document.getElementById(errorId);
            const formGroup = errorElement.closest('.form-group');
            
            errorElement.classList.remove('show');
            formGroup.classList.remove('has-error');
        }
        // Enhanced help functionality with better modal-like experience
        document.getElementById('helpLink').addEventListener('click', (e) => {
            e.preventDefault();
            
            // Create a more sophisticated help dialog
            const helpContent = `
                🌟 Tips for Best Results:
                
                📸 Image Quality:
                • Use clear, well-lit images
                • Ensure good contrast and focus
                • Avoid shadows and glare
                
                🍃 Leaf Positioning:
                • Fill most of the frame with the leaf
                • Show disease symptoms clearly
                • Include both affected and healthy areas
                
                📱 Technical Requirements:
                • Supported formats: JPG, PNG, WebP
                • Maximum file size: 10MB
                • Minimum resolution: 224x224 pixels
                
                🔬 AI Analysis:
                • Our AI can detect 15+ common crop diseases
                • Analysis typically takes 30-60 seconds
                • Results include confidence scores and recommendations
            `;
            
            // You could replace this with a custom modal for better UX
            alert(helpContent);
        });

        // Enhanced interactions and micro-animations
        document.addEventListener('DOMContentLoaded', () => {
            // Stagger form element animations
            const formElements = document.querySelectorAll('.form-group, .navigation');
            formElements.forEach((element, index) => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                element.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
                
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, (index + 2) * 200);
            });

            // Add hover effects to progress steps
            progressSteps.forEach(step => {
                step.addEventListener('mouseenter', () => {
                    if (!step.classList.contains('active')) {
                        step.style.transform = 'translateY(-3px) scale(1.02)';
                    }
                });

                step.addEventListener('mouseleave', () => {
                    if (!step.classList.contains('active')) {
                        step.style.transform = '';
                    }
                });
            });

            // Add interactive feedback to select dropdown
            cropSelect.addEventListener('change', () => {
                if (cropSelect.value) {
                    cropSelect.style.borderColor = 'var(--success)';
                    cropSelect.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                    
                    setTimeout(() => {
                        cropSelect.style.borderColor = '';
                        cropSelect.style.boxShadow = '';
                    }, 1000);
                }
            });

            // Enhanced particle system interaction
            const particles = document.querySelectorAll('.particle');
            let mouseX = 0, mouseY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            // Add subtle mouse interaction to particles
            setInterval(() => {
                particles.forEach((particle, index) => {
                    const rect = particle.getBoundingClientRect();
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;
                    
                    const distance = Math.sqrt(
                        Math.pow(mouseX - centerX, 2) + Math.pow(mouseY - centerY, 2)
                    );
                    
                    if (distance < 100) {
                        const scale = 1 + (100 - distance) / 100;
                        particle.style.transform = `scale(${scale})`;
                        particle.style.opacity = Math.min(1, 0.6 + (100 - distance) / 200);
                    } else {
                        particle.style.transform = '';
                        particle.style.opacity = '';
                    }
                });
            }, 50);
        });

        // Add performance optimization for animations
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
        if (prefersReducedMotion.matches) {
            document.documentElement.style.setProperty('--animation-duration', '0.1s');
        }

    </script>
</body>
</html>